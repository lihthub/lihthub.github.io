<!DOCTYPE html>
<html lang=en>
<head>
    <!-- so meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
    <meta name="description" content="本文转载自互联网  jQuery 插件的开发包括两种：一种是类级别的插件开发，即给 jQuery 添加新的全局函数，相当于给 jQuery 类本身添加方法。jQuery 的全局函数就是属于 jQuery 命名空间的函数。另一种是对象级别的插件开发，即给 jQuery 对象添加方法。下面就两种函数的开发做详细的说明。 类级别的插件开发类级别的插件开发最直接的理解就是给 jQuery 类添加类方法，">
<meta name="keywords" content="jQuery">
<meta property="og:type" content="article">
<meta property="og:title" content="jQuery 插件开发">
<meta property="og:url" content="https://lihthub.github.io/2017/09/26/jquery-plugin-development/index.html">
<meta property="og:site_name" content="Li Haitao">
<meta property="og:description" content="本文转载自互联网  jQuery 插件的开发包括两种：一种是类级别的插件开发，即给 jQuery 添加新的全局函数，相当于给 jQuery 类本身添加方法。jQuery 的全局函数就是属于 jQuery 命名空间的函数。另一种是对象级别的插件开发，即给 jQuery 对象添加方法。下面就两种函数的开发做详细的说明。 类级别的插件开发类级别的插件开发最直接的理解就是给 jQuery 类添加类方法，">
<meta property="og:locale" content="en">
<meta property="og:updated_time" content="2018-11-23T13:10:10.050Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="jQuery 插件开发">
<meta name="twitter:description" content="本文转载自互联网  jQuery 插件的开发包括两种：一种是类级别的插件开发，即给 jQuery 添加新的全局函数，相当于给 jQuery 类本身添加方法。jQuery 的全局函数就是属于 jQuery 命名空间的函数。另一种是对象级别的插件开发，即给 jQuery 对象添加方法。下面就两种函数的开发做详细的说明。 类级别的插件开发类级别的插件开发最直接的理解就是给 jQuery 类添加类方法，">
    
    
        
          
              <link rel="shortcut icon" href="/images/favicon.ico">
          
        
        
          
            <link rel="icon" type="image/png" href="/images/favicon-192x192.png" sizes="192x192">
          
        
        
          
            <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">
          
        
    
    <!-- title -->
    <title>jQuery 插件开发</title>
    <!-- styles -->
    <link rel="stylesheet" href="/css/style.css">
    <!-- persian styles -->
    
      <link rel="stylesheet" href="/css/rtl.css">
    
    <!-- rss -->
    
    
</head>

<body class="max-width mx-auto px3 ltr">
    
      <div id="header-post">
  <a id="menu-icon" href="#"><i class="fas fa-bars fa-lg"></i></a>
  <a id="menu-icon-tablet" href="#"><i class="fas fa-bars fa-lg"></i></a>
  <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fas fa-chevron-up fa-lg"></i></a>
  <span id="menu">
    <span id="nav">
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/about/">About</a></li>
         
          <li><a href="/archives/">Writing</a></li>
         
          <li><a href="https://github.com/lihthub">Projects</a></li>
         
          <li><a href="/tags/">Tags</a></li>
         
          <li><a href="/search/">Search</a></li>
        
      </ul>
    </span>
    <br/>
    <span id="actions">
      <ul>
        
        <li><a class="icon" href="/2019/01/26/my-cat-in-my-hometown/"><i class="fas fa-chevron-left" aria-hidden="true" onmouseover="$('#i-prev').toggle();" onmouseout="$('#i-prev').toggle();"></i></a></li>
        
        
        <li><a class="icon" href="/2017/09/19/blogging-with-hexo/"><i class="fas fa-chevron-right" aria-hidden="true" onmouseover="$('#i-next').toggle();" onmouseout="$('#i-next').toggle();"></i></a></li>
        
        <li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fas fa-chevron-up" aria-hidden="true" onmouseover="$('#i-top').toggle();" onmouseout="$('#i-top').toggle();"></i></a></li>
        <li><a class="icon" href="#"><i class="fas fa-share-alt" aria-hidden="true" onmouseover="$('#i-share').toggle();" onmouseout="$('#i-share').toggle();" onclick="$('#share').toggle();return false;"></i></a></li>
      </ul>
      <span id="i-prev" class="info" style="display:none;">Previous post</span>
      <span id="i-next" class="info" style="display:none;">Next post</span>
      <span id="i-top" class="info" style="display:none;">Back to top</span>
      <span id="i-share" class="info" style="display:none;">Share post</span>
    </span>
    <br/>
    <div id="share" style="display: none">
      <ul>
  <li><a class="icon" title="facebook" href="http://www.facebook.com/sharer.php?u=https://lihthub.github.io/2017/09/26/jquery-plugin-development/" target="_blank"><i class="fab fa-facebook " aria-hidden="true"></i></a></li>
  <li><a class="icon" title="twitter" href="https://twitter.com/share?url=https://lihthub.github.io/2017/09/26/jquery-plugin-development/&text=jQuery 插件开发" target="_blank"><i class="fab fa-twitter " aria-hidden="true"></i></a></li>
  <li><a class="icon" title="linkedin" href="http://www.linkedin.com/shareArticle?url=https://lihthub.github.io/2017/09/26/jquery-plugin-development/&title=jQuery 插件开发" target="_blank"><i class="fab fa-linkedin " aria-hidden="true"></i></a></li>
  <li><a class="icon" title="mail" href="mailto:?subject=jQuery 插件开发&body=Check out this article: https://lihthub.github.io/2017/09/26/jquery-plugin-development/"><i class="fas fa-envelope " aria-hidden="true"></i></a></li>
  <li><a class="icon" title="pocket" href="https://getpocket.com/save?url=https://lihthub.github.io/2017/09/26/jquery-plugin-development/&title=jQuery 插件开发" target="_blank"><i class="fab fa-get-pocket " aria-hidden="true"></i></a></li>
  <li><a class="icon" title="digg" href="http://digg.com/submit?url=https://lihthub.github.io/2017/09/26/jquery-plugin-development/&title=jQuery 插件开发" target="_blank"><i class="fab fa-digg " aria-hidden="true"></i></a></li>
  <li><a class="icon" title="tumblr" href="http://www.tumblr.com/share/link?url=https://lihthub.github.io/2017/09/26/jquery-plugin-development/&name=jQuery 插件开发&description=" target="_blank"><i class="fab fa-tumblr " aria-hidden="true"></i></a></li>
  <li><a class="icon" title="weibo" href="http://service.weibo.com/share/share.php?url=https://lihthub.github.io/2017/09/26/jquery-plugin-development/&title=jQuery 插件开发" target="_blank"><i class="fab fa-weibo " aria-hidden="true"></i></a></li>
  <li><a class="icon share_weixin" title="wechat" href="javascript:;" data-url="https://lihthub.github.io/2017/09/26/jquery-plugin-development/" target="_blank"><i class="fab fa-weixin " aria-hidden="true"></i></a></li>
</ul>

    </div>
    <div id="toc">
      <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#类级别的插件开发"><span class="toc-number">1.</span> <span class="toc-text">类级别的插件开发</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#添加一个新的全局函数"><span class="toc-number">1.1.</span> <span class="toc-text">添加一个新的全局函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#添加多个全局函数"><span class="toc-number">1.2.</span> <span class="toc-text">添加多个全局函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#使用-jQuery-extend-object"><span class="toc-number">1.3.</span> <span class="toc-text">使用 jQuery.extend(object)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#使用命名空间"><span class="toc-number">1.4.</span> <span class="toc-text">使用命名空间</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#对象级别的插件开发"><span class="toc-number">2.</span> <span class="toc-text">对象级别的插件开发</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#在-jQuery-名称空间下申明一个名字"><span class="toc-number">2.1.</span> <span class="toc-text">在 jQuery 名称空间下申明一个名字</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#接受-options-参数以控制插件的行为"><span class="toc-number">2.2.</span> <span class="toc-text">接受 options 参数以控制插件的行为</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#暴露插件的默认设置"><span class="toc-number">2.3.</span> <span class="toc-text">暴露插件的默认设置</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#适当的暴露一些函数"><span class="toc-number">2.4.</span> <span class="toc-text">适当的暴露一些函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#保持私有函数的私有性"><span class="toc-number">2.5.</span> <span class="toc-text">保持私有函数的私有性</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#支持-Metadata-插件"><span class="toc-number">2.6.</span> <span class="toc-text">支持 Metadata 插件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#整合"><span class="toc-number">2.7.</span> <span class="toc-text">整合</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#总结"><span class="toc-number">3.</span> <span class="toc-text">总结</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#jQuery-fn-extend-object"><span class="toc-number">3.1.</span> <span class="toc-text">jQuery.fn.extend(object)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#jQuery-extend-object"><span class="toc-number">3.2.</span> <span class="toc-text">jQuery.extend(object)</span></a></li></ol></li></ol>
    </div>
  </span>
</div>

    
    <div class="content index my4">
        
        <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
  <header>
    
    <h1 class="posttitle" itemprop="name headline">
        jQuery 插件开发
    </h1>



    <div class="meta">
      <span class="author" itemprop="author" itemscope itemtype="http://schema.org/Person">
        <span itemprop="name">李海涛</span>
      </span>
      
    <div class="postdate">
        <time datetime="2017-09-25T16:27:34.000Z" itemprop="datePublished">2017-09-26</time>
    </div>


      
    <div class="article-tag">
        <i class="fas fa-tag"></i>
        <a class="tag-link" href="/tags/jQuery/">jQuery</a>
    </div>


    </div>
  </header>
  

  <div class="content" itemprop="articleBody">
    <blockquote>
<p>本文转载自互联网</p>
</blockquote>
<p>jQuery 插件的开发包括两种：一种是类级别的插件开发，即给 jQuery 添加新的全局函数，相当于给 jQuery 类本身添加方法。jQuery 的全局函数就是属于 jQuery 命名空间的函数。另一种是对象级别的插件开发，即给 jQuery 对象添加方法。下面就两种函数的开发做详细的说明。</p>
<h2 id="类级别的插件开发"><a href="#类级别的插件开发" class="headerlink" title="类级别的插件开发"></a>类级别的插件开发</h2><p>类级别的插件开发最直接的理解就是给 jQuery 类添加类方法，可以理解为添加静态方法。典型的例子就是$.AJAX()这个函数，将函数定义于 jQuery 的命名空间中。关于类级别的插件开发可以采用如下几种形式进行扩展：</p>
<h3 id="添加一个新的全局函数"><a href="#添加一个新的全局函数" class="headerlink" title="添加一个新的全局函数"></a>添加一个新的全局函数</h3><p>添加一个全局函数，只需如下定义：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">jQuery.foo = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  alert(<span class="string">'This is a test. This is only a test.'</span>); </span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h3 id="添加多个全局函数"><a href="#添加多个全局函数" class="headerlink" title="添加多个全局函数"></a>添加多个全局函数</h3><p>添加多个全局函数，可采用如下定义：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">jQuery.foo = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  alert(<span class="string">'This is a test. This is only a test.'</span>);</span><br><span class="line">&#125;;</span><br><span class="line">jQuery.bar = <span class="function"><span class="keyword">function</span>(<span class="params">param</span>) </span>&#123;</span><br><span class="line">  alert(<span class="string">'This function takes a parameter, which is "'</span> + param + <span class="string">'".'</span>);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>调用时和一个函数的一样的: <code>jQuery.foo();</code> <code>jQuery.bar();</code> 或者 <code>$.foo();</code> <code>$.bar(&#39;bar&#39;);</code></p>
<h3 id="使用-jQuery-extend-object"><a href="#使用-jQuery-extend-object" class="headerlink" title="使用 jQuery.extend(object)"></a>使用 jQuery.extend(object)</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">jQuery.extend(&#123;</span><br><span class="line">  foo: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    alert(<span class="string">'This is a test. This is only a test.'</span>);</span><br><span class="line">  &#125;,</span><br><span class="line">  bar: <span class="function"><span class="keyword">function</span>(<span class="params">param</span>) </span>&#123;</span><br><span class="line">    alert(<span class="string">'This function takes a parameter, which is "'</span></span><br><span class="line">      + param +<span class="string">'".'</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<h3 id="使用命名空间"><a href="#使用命名空间" class="headerlink" title="使用命名空间"></a>使用命名空间</h3><p>虽然在 jQuery 命名空间中，禁止使用了大量的 JavaScript 函数名和变量名。但是仍然不可避免某些函数或变量名将于其他 jQuery 插件冲突，因此习惯上将一些方法封装到另一个自定义的命名空间。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">jQuery.myPlugin = &#123;</span><br><span class="line">  foo:<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    alert(<span class="string">'This is a test. This is only a test.'</span>);</span><br><span class="line">  &#125;,</span><br><span class="line">  bar: <span class="function"><span class="keyword">function</span>(<span class="params">param</span>) </span>&#123;</span><br><span class="line">    alert(<span class="string">'This function takes a parameter, which is "'</span></span><br><span class="line">      + param +<span class="string">'".'</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>采用命名空间的函数仍然是全局函数，调用时采用的方法：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$.myPlugin.foo(); </span><br><span class="line">$.myPlugin.bar(<span class="string">'baz'</span>);</span><br></pre></td></tr></table></figure>
<p>通过这个技巧（使用独立的插件名），可以避免命名空间内函数的冲突。</p>
<h2 id="对象级别的插件开发"><a href="#对象级别的插件开发" class="headerlink" title="对象级别的插件开发"></a>对象级别的插件开发</h2><p>对象级别的插件开发需要如下的两种形式：</p>
<p>形式 1：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">(<span class="function"><span class="keyword">function</span>(<span class="params">$</span>)</span>&#123; </span><br><span class="line">  $.fn.extend(&#123; </span><br><span class="line">    pluginName:<span class="function"><span class="keyword">function</span>(<span class="params">opt,callback</span>)</span>&#123; </span><br><span class="line">      <span class="comment">// Our plugin implementation code goes here. </span></span><br><span class="line">    &#125; </span><br><span class="line">  &#125;) </span><br><span class="line">&#125;)(jQuery);</span><br></pre></td></tr></table></figure>
<p>形式 2：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">(<span class="function"><span class="keyword">function</span>(<span class="params">$</span>) </span>&#123;</span><br><span class="line">  $.fn.pluginName = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// Our plugin implementation code goes here.</span></span><br><span class="line">  &#125;;</span><br><span class="line">&#125;)(jQuery);</span><br></pre></td></tr></table></figure>
<p>上面定义了一个 jQuery 函数，形参是$，函数定义完成之后，把 jQuery 这个实参传递进去，立即调用执行。这样的好处是，我们在写 jQuery 插件时，也可以使用$这个别名，而不会与 prototype 引起冲突。</p>
<h3 id="在-jQuery-名称空间下申明一个名字"><a href="#在-jQuery-名称空间下申明一个名字" class="headerlink" title="在 jQuery 名称空间下申明一个名字"></a>在 jQuery 名称空间下申明一个名字</h3><p>这是一个单一插件的脚本。如果你的脚本中包含多个插件，或者互逆的插件（例如：<code>$.fn.doSomething()</code> 和 <code>$.fn.undoSomething()</code>），那么你需要声明多个函数名字。但是，通常当我们编写一个插件时，力求仅使用一个名字来包含它的所有内容。我们的示例插件命名为<code>highlight</code></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$.fn.highlight = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="comment">// Our plugin implementation code goes here.</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>我们的插件通过这样被调用：<code>$(&#39;#myDiv&#39;).highlight();</code></p>
<p>但是如果我们需要分解我们的实现代码为多个函数该怎么办？有很多原因：设计上的需要；这样做更容易或更易读的实现；而且这样更符合面向对象。这真是一个麻烦事，把功能实现分解成多个函数而不增加多余的命名空间。出于认识到和利用函数是 JavaScript 中最基本的类对象，我们可以这样做。就像其他对象一样，函数可以被指定为属性。因此我们已经声明<code>highlight</code>为 jQuery 的属性对象，任何其他的属性或者函数我们需要暴露出来的，都可以在<code>highlight</code>函数中被声明属性。稍后继续。</p>
<h3 id="接受-options-参数以控制插件的行为"><a href="#接受-options-参数以控制插件的行为" class="headerlink" title="接受 options 参数以控制插件的行为"></a>接受 options 参数以控制插件的行为</h3><p>让我们为我们的插件添加功能指定前景色和背景色的功能。我们也许会让选项像一个 options 对象传递给插件函数。例如： </p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// plugin definition</span></span><br><span class="line">$.fn.highlight = <span class="function"><span class="keyword">function</span>(<span class="params">options</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> defaults = &#123;</span><br><span class="line">    foreground: <span class="string">'red'</span>,</span><br><span class="line">    background: <span class="string">'yellow'</span></span><br><span class="line">  &#125;;</span><br><span class="line">  <span class="comment">// Extend our default options with those provided.</span></span><br><span class="line">  <span class="keyword">var</span> opts = $.extend(defaults, options);</span><br><span class="line">  <span class="comment">// Our plugin implementation code goes here.</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>我们的插件可以这样被调用：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">'#myDiv'</span>).highlight(&#123;</span><br><span class="line">  foreground: <span class="string">'blue'</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<h3 id="暴露插件的默认设置"><a href="#暴露插件的默认设置" class="headerlink" title="暴露插件的默认设置"></a>暴露插件的默认设置</h3><p>我们应该对上面代码的一种改进是暴露插件的默认设置。这对于让插件的使用者更容易用较少的代码覆盖和修改插件。接下来我们开始利用函数对象。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// plugin definition</span></span><br><span class="line">$.fn.highlight = <span class="function"><span class="keyword">function</span>(<span class="params">options</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// Extend our default options with those provided.</span></span><br><span class="line">  <span class="comment">// Note that the first arg to extend is an empty object -</span></span><br><span class="line">  <span class="comment">// this is to keep from overriding our "defaults" object.</span></span><br><span class="line">  <span class="keyword">var</span> opts = $.extend(&#123;&#125;, $.fn.highlight.defaults, options);</span><br><span class="line">  <span class="comment">// Our plugin implementation code goes here.</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// plugin defaults - added as a property on our plugin function</span></span><br><span class="line">$.fn.highlight.defaults = &#123;</span><br><span class="line">  foreground: <span class="string">'red'</span>,</span><br><span class="line">  background: <span class="string">'yellow'</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>现在使用者可以包含像这样的一行在他们的脚本里：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//这个只需要调用一次，且不一定要在 ready 块中调用</span></span><br><span class="line">$.fn.highlight.defaults.foreground = <span class="string">'blue'</span>;</span><br><span class="line">接下来我们可以像这样使用插件的方法，结果它设置蓝色的前景色： </span><br><span class="line">$(<span class="string">'#myDiv'</span>).highlight();</span><br></pre></td></tr></table></figure>
<p>如你所见，我们可以写一行代码在插件的默认前景色。而且我们仍然在需要的时候可以有选择的覆盖这些新的默认值：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 覆盖插件缺省的背景颜色</span></span><br><span class="line">$.fn.highlight.defaults.foreground = <span class="string">'blue'</span>;</span><br><span class="line"><span class="comment">// ...</span></span><br><span class="line"><span class="comment">// 使用一个新的缺省设置调用插件</span></span><br><span class="line">$(<span class="string">'.highlightDiv'</span>).highlight();</span><br><span class="line"><span class="comment">// ...</span></span><br><span class="line"><span class="comment">// 通过传递配置参数给插件方法来覆盖缺省设置</span></span><br><span class="line">$(<span class="string">'#green'</span>).highlight(&#123;</span><br><span class="line">  foreground: <span class="string">'green'</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<h3 id="适当的暴露一些函数"><a href="#适当的暴露一些函数" class="headerlink" title="适当的暴露一些函数"></a>适当的暴露一些函数</h3><p>这段将会一步一步对前面那段代码通过有意思的方法扩展你的插件（同时让其他人扩展你的插件）。例如，我们插件的实现里面可以定义一个名叫<code>format</code>的函数来格式化高亮文本。我们的插件现在看起来像这样，默认的 format 方法的实现部分在 hiligth 函数下面。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// plugin definition</span></span><br><span class="line">$.fn.highlight = <span class="function"><span class="keyword">function</span>(<span class="params">options</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// iterate and reformat each matched element</span></span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">this</span>.each(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> $<span class="keyword">this</span> = $(<span class="keyword">this</span>);</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">    <span class="keyword">var</span> markup = $<span class="keyword">this</span>.html();</span><br><span class="line">    <span class="comment">// call our format function</span></span><br><span class="line">    markup = $.fn.highlight.format(markup);</span><br><span class="line">    $<span class="keyword">this</span>.html(markup);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// define our format function</span></span><br><span class="line">$.fn.highlight.format = <span class="function"><span class="keyword">function</span>(<span class="params">txt</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="string">'&lt;strong&gt;'</span> + txt + <span class="string">'&lt;/strong&gt;'</span>;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>很容易地支持 options 对象中的其他的属性通过允许一个回调函数来覆盖默认的设置。这是另外一个出色的方法来修改你的插件。这里展示的技巧是进一步有效地暴露 format 函数进而让它能被重新定义。通过这技巧，使其他人能够传递他们自己设置来覆盖你的插件，换句话说，这样其他人也能够为你的插件写插件。 </p>
<p>考虑到这篇文章中我们建立的无用的插件，你也许想知道究竟什么时候这些会有用。一个真实的例子是 Cycle 插件，这个 Cycle 插件是一个滑动显示插件，他能支持许多内部变换作用到滚动、滑动、渐变、消失等。但是实际上，没有办法定义也许会应用到滑动变化上每种类型的效果。那是这种扩展性有用的地方。Cycle 插件对使用者暴露<code>transitions</code>对象，使他们添加自己变换定义。插件中定义就像这样：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$.fn.cycle.transitions = &#123; </span><br><span class="line">  <span class="comment">// ... </span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>这个技巧使其他人能定义和传递变换设置到 Cycle 插件。</p>
<h3 id="保持私有函数的私有性"><a href="#保持私有函数的私有性" class="headerlink" title="保持私有函数的私有性"></a>保持私有函数的私有性</h3><p>这种技巧暴露你插件一部分来被覆盖是非常强大的。但是你需要仔细思考你实现中暴露的部分。一但被暴露，你需要在头脑中保持任何对于参数或者语义的改动也许会破坏向后的兼容性。一个通理是，如果你不能肯定是否暴露特定的函数，那么你也许不需要那样做。那么我们怎么定义更多的函数而不搅乱命名空间也不暴露实现呢？这就是闭包的功能。为了演示，我们将会添加另外一个<code>debug</code>函数到我们的插件中。这个 debug 函数将为输出被选中的元素格式到 firebug 控制台。为了创建一个闭包，我们将包装整个插件定义在一个函数中。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">(<span class="function"><span class="keyword">function</span>(<span class="params">$</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// plugin definition</span></span><br><span class="line">  $.fn.highlight = <span class="function"><span class="keyword">function</span>(<span class="params">options</span>) </span>&#123;</span><br><span class="line">    debug(<span class="keyword">this</span>);</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">  &#125;;</span><br><span class="line">  <span class="comment">// private function for debugging</span></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">debug</span>(<span class="params">$obj</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">window</span>.console &amp;&amp; <span class="built_in">window</span>.console.log)</span><br><span class="line">      <span class="built_in">window</span>.console.log(<span class="string">'highlight selection count: '</span> + $obj.size());</span><br><span class="line">  &#125;;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;)(jQuery);</span><br></pre></td></tr></table></figure>
<p>我们的<code>debug</code>方法不能从外部闭包进入，因此对于我们的实现是私有的。</p>
<h3 id="支持-Metadata-插件"><a href="#支持-Metadata-插件" class="headerlink" title="支持 Metadata 插件"></a>支持 Metadata 插件</h3><p>在你正在写的插件的基础上，添加对 Metadata 插件的支持能使他更强大。个人来说，我喜欢这个 Metadata 插件，因为它让你使用不多的<code>markup</code>覆盖插件的选项（这非常有用当创建例子时）。而且支持它非常简单。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">$.fn.highlight = <span class="function"><span class="keyword">function</span>(<span class="params">options</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">  <span class="comment">// build main options before element iteration</span></span><br><span class="line">  <span class="keyword">var</span> opts = $.extend(&#123;&#125;, $.fn.highlight.defaults, options);</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">this</span>.each(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> $<span class="keyword">this</span> = $(<span class="keyword">this</span>);</span><br><span class="line">    <span class="comment">// build element specific options</span></span><br><span class="line">    <span class="keyword">var</span> o = $.meta ? $.extend(&#123;&#125;, opts, $<span class="keyword">this</span>.data()) : opts;</span><br><span class="line">    <span class="comment">//...</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>这些变动行做了一些事情：它是测试 Metadata 插件是否被安装，如果它被安装了，它能扩展我们的 options 对象通过抽取元数据这行作为最后一个参数添加到<code>JQuery.extend</code>，那么它将会覆盖任何其它选项设置。现在我们能从<code>markup</code>处驱动行为，如果我们选择了<code>markup</code>：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- markup --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"highlight &#123; background: 'red', foreground: 'white' &#125;"</span>&gt;</span></span><br><span class="line">Have a nice day!</span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"highlight &#123; foreground: 'orange' &#125;"</span>&gt;</span></span><br><span class="line">Have a nice day!</span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"highlight &#123; background: 'green' &#125;"</span>&gt;</span></span><br><span class="line">Have a nice day!</span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>现在我们能高亮这些 div 仅使用一行脚本：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">'.highlight'</span>).highlight();</span><br></pre></td></tr></table></figure>
<h3 id="整合"><a href="#整合" class="headerlink" title="整合"></a>整合</h3><p>下面使我们的例子完成后的代码：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 创建一个闭包</span></span><br><span class="line">(<span class="function"><span class="keyword">function</span>(<span class="params">$</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// 插件的定义</span></span><br><span class="line">  $.fn.highlight = <span class="function"><span class="keyword">function</span>(<span class="params">options</span>) </span>&#123;</span><br><span class="line">    debug(<span class="keyword">this</span>);</span><br><span class="line">    <span class="comment">// build main options before element iteration</span></span><br><span class="line">    <span class="keyword">var</span> opts = $.extend(&#123;&#125;, $.fn.highlight.defaults, options);</span><br><span class="line">    <span class="comment">// iterate and reformat each matched element</span></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.each(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">      $<span class="keyword">this</span> = $(<span class="keyword">this</span>);</span><br><span class="line">      <span class="comment">// build element specific options</span></span><br><span class="line">      <span class="keyword">var</span> o = $.meta ? $.extend(&#123;&#125;, opts, $<span class="keyword">this</span>.data()) : opts;</span><br><span class="line">      <span class="comment">// update element styles</span></span><br><span class="line">      $<span class="keyword">this</span>.css(&#123;</span><br><span class="line">        backgroundColor: o.background,</span><br><span class="line">        color: o.foreground</span><br><span class="line">      &#125;);</span><br><span class="line">      <span class="keyword">var</span> markup = $<span class="keyword">this</span>.html();</span><br><span class="line">      <span class="comment">// call our format function</span></span><br><span class="line">      markup = $.fn.highlight.format(markup);</span><br><span class="line">      $<span class="keyword">this</span>.html(markup);</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;;</span><br><span class="line">  <span class="comment">// 私有函数：debugging</span></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">debug</span>(<span class="params">$obj</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">window</span>.console &amp;&amp; <span class="built_in">window</span>.console.log)</span><br><span class="line">      <span class="built_in">window</span>.console.log(<span class="string">'highlight selection count: '</span> + $obj.size());</span><br><span class="line">  &#125;;</span><br><span class="line">  <span class="comment">// 定义暴露 format 函数</span></span><br><span class="line">  $.fn.highlight.format = <span class="function"><span class="keyword">function</span>(<span class="params">txt</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">'&lt;strong&gt;'</span> + txt + <span class="string">'&lt;/strong&gt;'</span>;</span><br><span class="line">  &#125;;</span><br><span class="line">  <span class="comment">// 插件的 defaults</span></span><br><span class="line">  $.fn.highlight.defaults = &#123;</span><br><span class="line">    foreground: <span class="string">'red'</span>,</span><br><span class="line">    background: <span class="string">'yellow'</span></span><br><span class="line">  &#125;;</span><br><span class="line">  <span class="comment">// 闭包结束</span></span><br><span class="line">&#125;)(jQuery);</span><br></pre></td></tr></table></figure>
<p>这段设计已经让我创建了强大符合规范的插件。我希望它能让你也能做到。</p>
<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>jQuery 为开发插件提拱了两个方法，分别是：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">jQuery.fn.extend(object); <span class="comment">// 给 jQuery 对象添加方法。</span></span><br><span class="line">jQuery.extend(object); <span class="comment">// 为扩展 jQuery 类本身.为类添加新的方法</span></span><br></pre></td></tr></table></figure>
<h3 id="jQuery-fn-extend-object"><a href="#jQuery-fn-extend-object" class="headerlink" title="jQuery.fn.extend(object)"></a>jQuery.fn.extend(object)</h3><p>fn 是什么东西呢。查看 jQuery 代码，就不难发现：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">jQuery.fn = jQuery.prototype = &#123; </span><br><span class="line">  init: <span class="function"><span class="keyword">function</span>(<span class="params"> selector, context </span>) </span>&#123; <span class="comment">//...</span></span><br><span class="line">  <span class="comment">//...</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>原来<code>jQuery.fn = jQuery.prototype</code>。对 prototype 肯定不会陌生啦，虽然 JavaScript 没有明确的类的概念，但是用类来理解它，会更方便。jQuery 便是一个封装得非常好的类，比如我们用语句<br>$(“#btn1”) 会生成一个 jQuery 类的实例。</p>
<p><code>jQuery.fn.extend(object)</code>对 jQuery.prototype 进行扩展，就是为 jQuery 类添加“成员函数”。jQuery 类的实例可以使用这个“成员函数”。比如我们要开发一个插件，做一个特殊的编辑框，当它被点击时，便 alert 当前编辑框里的内容。可以这么做：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">$.fn.extend(&#123;</span><br><span class="line">  alertWhileClick: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    $(<span class="keyword">this</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">      alert($(<span class="keyword">this</span>).val());</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">// 页面上为：&lt;input id="input1" type="text"/&gt;</span></span><br><span class="line">$(<span class="string">"#input1"</span>).alertWhileClick();</span><br></pre></td></tr></table></figure>
<p><code>$(&quot;#input1&quot;)</code>为一个 jQuery 实例，当它调用成员方法<code>alertWhileClick</code>后，便实现了扩展，每次被点击时它会先弹出目前编辑框里的内容。</p>
<h3 id="jQuery-extend-object"><a href="#jQuery-extend-object" class="headerlink" title="jQuery.extend(object)"></a>jQuery.extend(object)</h3><p>为 jQuery 类添加添加类方法，可以理解为添加静态方法。如：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$.extend(&#123;</span><br><span class="line">  add:<span class="function"><span class="keyword">function</span>(<span class="params">a, b</span>)</span>&#123;</span><br><span class="line">  	<span class="keyword">return</span> a + b;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>便为 jQuery 添加一个为 add 的“静态方法”，之后便可以在引入 jQuery 的地方，使用这个方法了：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$.add(<span class="number">3</span>, <span class="number">4</span>); <span class="comment">// return 7</span></span><br></pre></td></tr></table></figure>
  </div>
</article>

    <div class="blog-post-comments">
        <div id="disqus_thread">
            <noscript>Please enable JavaScript to view the comments.</noscript>
        </div>
    </div>



    </div>
    
      <div id="footer-post-container">
  <div id="footer-post">

    <div id="nav-footer" style="display: none">
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/about/">About</a></li>
         
          <li><a href="/archives/">Writing</a></li>
         
          <li><a href="https://github.com/lihthub">Projects</a></li>
         
          <li><a href="/tags/">Tags</a></li>
         
          <li><a href="/search/">Search</a></li>
        
      </ul>
    </div>

    <div id="toc-footer" style="display: none">
      <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#类级别的插件开发"><span class="toc-number">1.</span> <span class="toc-text">类级别的插件开发</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#添加一个新的全局函数"><span class="toc-number">1.1.</span> <span class="toc-text">添加一个新的全局函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#添加多个全局函数"><span class="toc-number">1.2.</span> <span class="toc-text">添加多个全局函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#使用-jQuery-extend-object"><span class="toc-number">1.3.</span> <span class="toc-text">使用 jQuery.extend(object)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#使用命名空间"><span class="toc-number">1.4.</span> <span class="toc-text">使用命名空间</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#对象级别的插件开发"><span class="toc-number">2.</span> <span class="toc-text">对象级别的插件开发</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#在-jQuery-名称空间下申明一个名字"><span class="toc-number">2.1.</span> <span class="toc-text">在 jQuery 名称空间下申明一个名字</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#接受-options-参数以控制插件的行为"><span class="toc-number">2.2.</span> <span class="toc-text">接受 options 参数以控制插件的行为</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#暴露插件的默认设置"><span class="toc-number">2.3.</span> <span class="toc-text">暴露插件的默认设置</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#适当的暴露一些函数"><span class="toc-number">2.4.</span> <span class="toc-text">适当的暴露一些函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#保持私有函数的私有性"><span class="toc-number">2.5.</span> <span class="toc-text">保持私有函数的私有性</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#支持-Metadata-插件"><span class="toc-number">2.6.</span> <span class="toc-text">支持 Metadata 插件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#整合"><span class="toc-number">2.7.</span> <span class="toc-text">整合</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#总结"><span class="toc-number">3.</span> <span class="toc-text">总结</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#jQuery-fn-extend-object"><span class="toc-number">3.1.</span> <span class="toc-text">jQuery.fn.extend(object)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#jQuery-extend-object"><span class="toc-number">3.2.</span> <span class="toc-text">jQuery.extend(object)</span></a></li></ol></li></ol>
    </div>

    <div id="share-footer" style="display: none">
      <ul>
  <li><a class="icon" title="facebook" href="http://www.facebook.com/sharer.php?u=https://lihthub.github.io/2017/09/26/jquery-plugin-development/" target="_blank"><i class="fab fa-facebook fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" title="twitter" href="https://twitter.com/share?url=https://lihthub.github.io/2017/09/26/jquery-plugin-development/&text=jQuery 插件开发" target="_blank"><i class="fab fa-twitter fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" title="linkedin" href="http://www.linkedin.com/shareArticle?url=https://lihthub.github.io/2017/09/26/jquery-plugin-development/&title=jQuery 插件开发" target="_blank"><i class="fab fa-linkedin fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" title="mail" href="mailto:?subject=jQuery 插件开发&body=Check out this article: https://lihthub.github.io/2017/09/26/jquery-plugin-development/"><i class="fas fa-envelope fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" title="pocket" href="https://getpocket.com/save?url=https://lihthub.github.io/2017/09/26/jquery-plugin-development/&title=jQuery 插件开发" target="_blank"><i class="fab fa-get-pocket fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" title="digg" href="http://digg.com/submit?url=https://lihthub.github.io/2017/09/26/jquery-plugin-development/&title=jQuery 插件开发" target="_blank"><i class="fab fa-digg fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" title="tumblr" href="http://www.tumblr.com/share/link?url=https://lihthub.github.io/2017/09/26/jquery-plugin-development/&name=jQuery 插件开发&description=" target="_blank"><i class="fab fa-tumblr fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" title="weibo" href="http://service.weibo.com/share/share.php?url=https://lihthub.github.io/2017/09/26/jquery-plugin-development/&title=jQuery 插件开发" target="_blank"><i class="fab fa-weibo fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon share_weixin" title="wechat" href="javascript:;" data-url="https://lihthub.github.io/2017/09/26/jquery-plugin-development/" target="_blank"><i class="fab fa-weixin fa-lg" aria-hidden="true"></i></a></li>
</ul>

    </div>

    <div id="actions-footer">
        <a id="menu" class="icon" href="#" onclick="$('#nav-footer').toggle();return false;"><i class="fas fa-bars fa-lg" aria-hidden="true"></i> Menu</a>
        <a id="toc" class="icon" href="#" onclick="$('#toc-footer').toggle();return false;"><i class="fas fa-list fa-lg" aria-hidden="true"></i> TOC</a>
        <a id="share" class="icon" href="#" onclick="$('#share-footer').toggle();return false;"><i class="fas fa-share-alt fa-lg" aria-hidden="true"></i> Share</a>
        <a id="top" style="display:none" class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fas fa-chevron-up fa-lg" aria-hidden="true"></i> Top</a>
    </div>

  </div>
</div>

    
    <footer id="footer">
  <div class="footer-left">
    Copyright &copy; 2019 Li Haitao
  </div>
  <div class="footer-right">
    <nav>
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/about/">About</a></li>
         
          <li><a href="/archives/">Writing</a></li>
         
          <li><a href="https://github.com/lihthub">Projects</a></li>
         
          <li><a href="/tags/">Tags</a></li>
         
          <li><a href="/search/">Search</a></li>
        
      </ul>
    </nav>
  </div>
</footer>

</body>
</html>
<!-- styles -->
<link rel="stylesheet" href="/lib/font-awesome/css/fontawesome-all.min.css">
<link rel="stylesheet" href="/lib/justified-gallery/css/justifiedGallery.min.css">
<link rel="stylesheet" href="/lib/weixin-share/weixin-popup.css">

<!-- jquery -->
<script src="/lib/jquery/jquery.min.js"></script>
<script src="/lib/justified-gallery/js/jquery.justifiedGallery.min.js"></script>
<script src="/lib/weixin-share/jquery.qrcode.min.js"></script>
<script src="/lib/weixin-share/weixin-trans.js"></script>
<script src="/js/main.js"></script>
<!-- search -->

<!-- Google Analytics -->

<!-- Baidu Analytics -->

<!-- Disqus Comments -->

    <script type="text/javascript">
        var disqus_shortname = 'lideveloper';

        (function(){
            var dsq = document.createElement('script');
            dsq.type = 'text/javascript';
            dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        }());
    </script>


